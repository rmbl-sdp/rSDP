[{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://rmbl-sdp.github.io/rSDP/articles/field-site-sampling.html","id":"parallel-processing","dir":"Articles","previous_headings":"Strategies for boosting performance","what":"Parallel processing","title":"Sampling SDP Data Products at Field Sites","text":"","code":"library(rSDP)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"finding-datasets","dir":"Articles","previous_headings":"","what":"Finding datasets","title":"Accessing Cloud-based Datasets","text":"RMBL Spatial Data Platform provides 100 spatial data products, first challenge finding data relevant work. currently two ways find data: Searching browsing web-based Data Catalog RMBL’s website. Searching filtering datasets using built-catalog rSDP package.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"searching-the-sdp-catalog-from-r","dir":"Articles","previous_headings":"Finding datasets","what":"Searching the SDP Catalog from R","title":"Accessing Cloud-based Datasets","text":"can get data frame catalog information datasets working Rstudio, best way explore catalog opening Viewer pane. allows use built-filtering searching facilities RStudio Viewer. want filter catalog programmatically, can specify arguments sdp_get_catalog() return matching rows. example, wan return products vegetation, can specify: advanced filtering, can use regular expressions match particular products. “CatalogID” field provides concise, unique identifier data product, preferred way specify individual product. , CatalogID “R4D001” represents data product representing annual time-series snow persistence across Upper Gunnison domain.","code":"cat <- sdp_get_catalog() head(cat[,1:4]) #>   CatalogID  Release  Type                                        Product #> 1    R1D001 Release1 Hydro  Large Stream Flowlines (Multi-flow Direction) #> 2    R1D002 Release1 Hydro Large Stream Flowlines (Single-flow Direction) #> 3    R1D003 Release1 Hydro        Large Watersheds (Multi-flow Direction) #> 4    R1D004 Release1 Hydro              Multi-direction Flow Accumulation #> 5    R1D005 Release1 Hydro       Small Watersheds (Single Flow Direction) #> 6    R1D006 Release1 Hydro             Single Direction Flow Accumulation View(cat) veg_cat <- sdp_get_catalog(types=\"Vegetation\") head(veg_cat[,1:4]) #>    CatalogID  Release       Type                       Product #> 25    R1D025 Release1 Vegetation               Basic Landcover #> 26    R1D026 Release1 Vegetation Leaf-on Digital Surface Model #> 27    R1D027 Release1 Vegetation      Vegetation Canopy Height #> 40    R2D013 Release2 Vegetation        High-res Canopy Height #> 41    R2D014 Release2 Vegetation      Lidar Vegetation Metrics #> 54    R3D013 Release3 Vegetation              Understory Cover snow_cat <- cat[grepl(\"Snowpack Persist\",cat$Product),] head(snow_cat[,1:4]) #>     CatalogID  Release Type #> 75     R4D001 Release4 Snow #> 135    R4D061 Release4 Snow #> 136    R4D062 Release4 Snow #>                                                             Product #> 75               Snowpack Persistence Day of Year Yearly Timeseries #> 135             Snowpack Persistence Day of Year Mean (1993 - 2022) #> 136 Snowpack Persistence Day of Year Standard Deviation (1993-2022)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"getting-detailed-metadata","dir":"Articles","previous_headings":"Finding datasets","what":"Getting detailed metadata","title":"Accessing Cloud-based Datasets","text":"get detailed metadata item (beyond basic information provided Catalog), can use sdp_get_metadata() function.","code":"snow_meta <- sdp_get_metadata(\"R4D001\") print(snow_meta$qgis$extent$spatial) #> list() #> attr(,\"minx\") #> [1] \"305073\" #> attr(,\"miny\") #> [1] \"4256064\" #> attr(,\"maxz\") #> [1] \"0\" #> attr(,\"crs\") #> [1] \"EPSG:32613\" #> attr(,\"maxx\") #> [1] \"388098\" #> attr(,\"dimensions\") #> [1] \"2\" #> attr(,\"maxy\") #> [1] \"4328667\" #> attr(,\"minz\") #> [1] \"0\""},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"visualizing-the-sdp-domains","dir":"Articles","previous_headings":"Finding datasets","what":"Visualizing the SDP domains","title":"Accessing Cloud-based Datasets","text":"currently provide SDP data products three different spatial domains. visualize boundaries domains, can construct web map shows . First need connect datasets stored cloud. ’ve got , can use terra::plet() function plot domains web map.","code":"GT_bound <- st_read(\"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/GT_region_vect_1m.geojson\") #> Reading layer `GT_region_vect_1m' from data source  #>   `https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/GT_region_vect_1m.geojson'  #>   using driver `GeoJSON' #> Simple feature collection with 1 feature and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 327105 ymin: 4313359 xmax: 328312 ymax: 4314793 #> Projected CRS: WGS 84 / UTM zone 13N UER_bound <- st_read(\"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/UER_region_vect_1m.geojson\") #> Reading layer `UER_region_vect_1m' from data source  #>   `https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/UER_region_vect_1m.geojson'  #>   using driver `GeoJSON' #> Simple feature collection with 1 feature and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 315965 ymin: 4298054 xmax: 337062 ymax: 4322641 #> Projected CRS: WGS 84 / UTM zone 13N UG_bound <- st_read(\"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/UG_region_vect_1m.geojson\") #> Reading layer `UG_region_vect_1m' from data source  #>   `https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/UG_region_vect_1m.geojson'  #>   using driver `GeoJSON' #> Simple feature collection with 1 feature and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 307895 ymin: 4258017 xmax: 385679 ymax: 4326087 #> Projected CRS: WGS 84 / UTM zone 13N domain_bounds <- rbind(UG_bound,UER_bound,GT_bound) domain_bounds$Domain <- c(\"Upper Gunnison (UG)\",\"Upper East River (UER)\",\"Gothic Townsite (GT)\") domain_sv <- vect(domain_bounds) plet(domain_sv,\"Domain\",tiles=\"Esri.NatGeoWorldMap\",alpha=0.6,      main=\"SDP Spatial Domains\",      col=c(\"#6c42f5\",\"#c95773\",\"#59c957\"))"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"connecting-to-data-in-the-cloud","dir":"Articles","previous_headings":"","what":"Connecting to data in the cloud","title":"Accessing Cloud-based Datasets","text":"SDP data products raster datasets available cloud storage service Amazon S3. many cases simplest way interact dataset connecting using web-based file system embedded terra package. make straightforward possible, provide function sdp_get_raster() connect data. default, function creates R object representing dataset without downloading whole thing locally.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"single-datasets","dir":"Articles","previous_headings":"Connecting to data in the cloud","what":"Single datasets","title":"Accessing Cloud-based Datasets","text":"connect dataset contains single layer, related layers stored single file, need provide sdp_get_raster CatalogID number data. load elevation map Upper Gunnison (UG) domain. can now see details structure dataset, including size (2401 x 27668 pixels), resolution (3m), coordinate reference system. Importantly can many common data visualizations manipulations dataset without download entire thing. example, want crop data area interest (say Gothic Townsite polygon loaded earlier), can accomplish downloading portion large raster covers polygon interest. notice source(s) field now says “memory”. means new dataset created longer lives cloud, now stored memory computer. cropped subset large fit memory, written temporary file. can now plot cropped raster dataset.","code":"UG_elev <- sdp_get_raster(\"R3D009\") UG_elev #> class       : SpatRaster  #> dimensions  : 24201, 27668, 1  (nrow, ncol, nlyr) #> resolution  : 3, 3  (x, y) #> extent      : 305082, 388086, 4256064, 4328667  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> source      : UG_dem_3m_v1.tif  #> name        : UG_dem_3m_v1 GT_elev <- crop(UG_elev,domain_sv[3,]) GT_elev #> class       : SpatRaster  #> dimensions  : 478, 402, 1  (nrow, ncol, nlyr) #> resolution  : 3, 3  (x, y) #> extent      : 327105, 328311, 4313358, 4314792  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> source(s)   : memory #> name        : UG_dem_3m_v1  #> min value   :     2864.029  #> max value   :     3174.758 plot(GT_elev)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"time-series-datasets","dir":"Articles","previous_headings":"Connecting to data in the cloud","what":"Time-series datasets","title":"Accessing Cloud-based Datasets","text":"Single-layer datasets relatively simple structure, many SDP data products provided time-series. maps provided daily, monthly, annual intervals. data products, need add additional arguments sdp_get_raster() specify temporal subsets return. example specifying years argument annual data return data layers representing desired years. code returns raster dataset representing snowpack persistence years 2018 2020: find time intervals included dataset, can examine catalog fields MinYear , MaxYear, MinDate MaxDate.","code":"cat[cat$CatalogID==\"R4D001\",1:4] #>    CatalogID  Release Type                                            Product #> 75    R4D001 Release4 Snow Snowpack Persistence Day of Year Yearly Timeseries snow_years <- sdp_get_raster(\"R4D001\",years=2018:2020,verbose=FALSE) snow_years #> class       : SpatRaster  #> dimensions  : 2689, 3075, 3  (nrow, ncol, nlyr) #> resolution  : 27, 27  (x, y) #> extent      : 305073, 388098, 4256064, 4328667  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> sources     : UG_snow_persistence_year_2018_27m_v1.tif   #>               UG_snow_persistence_year_2019_27m_v1.tif   #>               UG_snow_persistence_year_2020_27m_v1.tif   #> names       :      2018,     2019,      2020  #> min values  :  27.22007,  79.9462,  48.37198  #> max values  : 202.39381, 211.7621, 214.12854 cat[cat$TimeSeriesType %in% c(\"Yearly\",\"Monthly\",\"Daily\"),c(1,4,8:11)] #>    CatalogID                                                       Product #> 75    R4D001            Snowpack Persistence Day of Year Yearly Timeseries #> 76    R4D002                  Snowpack Onset Day of Year Yearly Timeseries #> 77    R4D003                           Snowpack Duration Yearly Timeseries #> 78    R4D004                   Maximum 2m Air Temperature Daily Timeseries #> 79    R4D005                   Minimum 2m Air Temperature Daily Timeseries #> 80    R4D006                 Average 2m Air Temperature Monthly Timeseries #> 81    R4D007                 Maximum 2m Air Temperature Monthly Timeseries #> 82    R4D008                 Minimum 2m Air Temperature Monthly Timeseries #> 83    R4D009        Air Temperature Freezing Degree-days Annual Timeseries #> 84    R4D010  Air Temperature Freezing Degree-days Early Season Timeseries #> 85    R4D011   Air Temperature Freezing Degree-days Late Season Timeseries #> 86    R4D012         Air Temperature Growing Degree-days Annual Timeseries #> 87    R4D013   Air Temperature Growing Degree-days Early Season Timeseries #> 88    R4D014    Air Temperature Growing Degree-days Late Season Timeseries #> 89    R4D015              Snow-free Freezing Degree-days Annual Timeseries #> 90    R4D016        Snow-free Freezing Degree-days Early Season Timeseries #> 91    R4D017         Snow-free Freezing Degree-days Late Season Timeseries #> 92    R4D018 Snow-free Freezing Degree-days 0-60 days Post-snow Timeseries #> 93    R4D019               Snow-free Growing Degree-days Annual Timeseries #> 94    R4D020         Snow-free Growing Degree-days Early Season Timeseries #> 95    R4D021          Snow-free Growing Degree-days Late Season Timeseries #> 96    R4D022   Snow-free Growing Degree-day 0-60 Days Post Snow Timeseries #>    MinDate  MaxDate MinYear MaxYear #> 75  1/1/93  9/30/22    1993    2022 #> 76 10/1/92  9/30/22    1993    2022 #> 77 10/1/92  9/30/22    1993    2022 #> 78 11/1/01 10/30/22    2001    2022 #> 79 11/1/01 10/30/22    2001    2022 #> 80 11/1/01 10/30/22    2001    2022 #> 81 11/1/01 10/30/22    2001    2022 #> 82 11/1/01 10/30/22    2001    2022 #> 83  1/1/02 12/31/22    2002    2022 #> 84  1/1/02 12/31/22    2002    2022 #> 85  1/1/02 12/31/22    2002    2022 #> 86  1/1/02 12/31/22    2002    2022 #> 87  1/1/02 12/31/22    2002    2022 #> 88  1/1/02 12/31/22    2002    2022 #> 89  1/1/02 12/31/22    2002    2022 #> 90  1/1/02 12/31/22    2002    2022 #> 91  1/1/02 12/31/22    2002    2022 #> 92  1/1/02 12/31/22    2002    2022 #> 93  1/1/02 12/31/22    2002    2022 #> 94  1/1/02 12/31/22    2002    2022 #> 95  1/1/02 12/31/22    2002    2022 #> 96  1/1/02 12/31/22    2002    2022"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/sdp-cloud-data.html","id":"when-should-you-download-data-locally","dir":"Articles","previous_headings":"Connecting to data in the cloud","what":"When should you download data locally?","title":"Accessing Cloud-based Datasets","text":"Although can perform many operations cloud-based datasets without downloading locally, operations may prohibitively slow. example, sampling 100 random points snow raster connected took approximately 25 seconds complete home internet connection data stored cloud: much slower operation locally stored data. deal situations like , included data download capabilities sdp_get_raster() function. Specifying download_files=TRUE along local download_path creates local copy data computer: ’s almost 40 times faster sample local dataset! example, time saved doesn’t quite make extra time download data, often larger operations. types operations might benefit downloading data locally: Operations use many pixels target datasets (e.g. resampling, reprojecting). Operations span large proportion extent raster (e.g. sampling values random points). performing multiple operations single source dataset (e.g. multiple raster algebra calculations single raster source).","code":"start_time <- Sys.time() snow_samp_cloud <- spatSample(snow_years,size=100) Sys.time() - start_time #> Time difference of 28.56239 secs snow_years_local <- sdp_get_raster(\"R4D001\",years=2018:2020,verbose=FALSE,                                    download_files=TRUE,                                    download_path=\"~/Downloads\") #> [1] \"All files exist locally. Specify `overwrite=TRUE` to overwrite existing files.\" #> [1] \"Loading raster from local paths.\" start_time <- Sys.time() snow_samp_local <- spatSample(snow_years_local,size=100) Sys.time() - start_time #> Time difference of 0.388108 secs"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"vector-vs-raster-data-","dir":"Articles","previous_headings":"","what":"Vector vs raster data.","title":"Wrangling Spatial Data","text":"fundamental distinction spatial data vector-formatted data (points, lines, polygons), raster-formatted data (images, arrays, grids). Vector data usually used represent data sparse space (say, points representing research sites, polygons representing watersheds). Raster data structures typically used measurements regular spacing, pixels satellite image elevation map. Figure 2. Raster vs vector data. Graphic Wegmann distinction raster vector data important two data types different ecosystems packages functions can work : widely-used package reading working vector data sf (Pebesma et al. 2018). package provides large number functions wrangling points, lines, polygons, including basic geometric operations like buffering, spatial joins. go-package wrangling raster data terra (Hijmans et al. 2020), provides efficient functions common raster operations like cropping, resampling. vector-data-focused functions terra, mirrored functions also available sf. Note packages wrangling spatial data R ecosystem (see comprehensive vew), found can usually accomplish almost everything need using two.","code":"knitr::include_graphics(\"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Raster_vector_tikz.png/744px-Raster_vector_tikz.png\")"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"setting-up-the-workspace-and-dealing-with-dependencies-","dir":"Articles","previous_headings":"","what":"Setting up the workspace and dealing with dependencies.","title":"Wrangling Spatial Data","text":"can get terra sf packages installed successfully loaded computer well way. Mac Windows systems, usually simple : specify type=\"binary\" avoid common problems compiling packages rely external libraries. Unfortunately, things quite easy Linux machines binary versions source packages available. case, follow instructions install external libraries installing terra sf. rSDP package CRAN yet, need install latest version GitHub. ’ve got everything installed, can load libraries R workspace:","code":"install.packages(c(\"terra\",\"sf\"),type=\"binary\") remotes::install_github(\"rmbl-sdp/rSDP\") library(sf) library(terra) library(rSDP)"},{"path":[]},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"reading-in-vector-data","dir":"Articles","previous_headings":"Reading in raster and vector data.","what":"Reading in vector data","title":"Wrangling Spatial Data","text":"Vector spatial data comes large variety formats, nearly common ones can read using sf function st_read(). Behind scenes, st_read() relies fantastic GDAL library . ’s format GDAL can read, can get R st_read(). possibilities, two vector formats stand open-source broadly readable: geoJSON, open plain-text data format works really well small medium-sized datasets (hundred MB). GeoPackage, open geospatial database format based SQLITE can efficiently store larger complex datasets geoJSON, including related tables layers multiple geometry types. example, read small geoJSON file web representing hypothetical research sites vicinity Rocky Mountain Biological Laboratory. One nice things geoJSON format can read web-based source directly R: also work first downloaded file. just need replace URL file path computer. structure sf vector dataset extends basic structure R data frame, addition geometry column holds information points, lines, polygons associated feature. Attributes feature (“Attribute Table”) stored way tabular datasets R. upshot can use tools available wrangling data frames (subsetting, filtering, reshaping, etc.) sf objects without trouble. operations, geometry column sticky, means carried forward new derived datasets created. example, wanted create new dataset containing Name column sites use standard subsetting syntax select rows second column: didn’t specify bringing geometry column us, since ’s sticky came along ride.","code":"sites <- st_read(\"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/rSDP_example_points_latlon.geojson\") #> Reading layer `rSDP_example_points_latlon' from data source  #>   `https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/supplemental/rSDP_example_points_latlon.geojson'  #>   using driver `GeoJSON' #> Simple feature collection with 9 features and 2 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -106.9934 ymin: 38.95576 xmax: -106.9839 ymax: 38.96237 #> Geodetic CRS:  WGS 84 head(sites) #> Simple feature collection with 6 features and 2 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -106.9934 ymin: 38.95807 xmax: -106.9898 ymax: 38.96237 #> Geodetic CRS:  WGS 84 #>   fid         Name                   geometry #> 1   1        Rocky POINT (-106.9904 38.96237) #> 2   2        Aspen POINT (-106.9898 38.96222) #> 3   3         Road POINT (-106.9903 38.96083) #> 4   4   BeaverPond POINT (-106.9934 38.96006) #> 5   5 GrassyMeadow POINT (-106.9927 38.96023) #> 6   6      Conifer  POINT (-106.992 38.95807) sites_name <- sites[,2] sites_name #> Simple feature collection with 9 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -106.9934 ymin: 38.95576 xmax: -106.9839 ymax: 38.96237 #> Geodetic CRS:  WGS 84 #>             Name                   geometry #> 1          Rocky POINT (-106.9904 38.96237) #> 2          Aspen POINT (-106.9898 38.96222) #> 3           Road POINT (-106.9903 38.96083) #> 4     BeaverPond POINT (-106.9934 38.96006) #> 5   GrassyMeadow POINT (-106.9927 38.96023) #> 6        Conifer  POINT (-106.992 38.95807) #> 7 WeatherStation POINT (-106.9859 38.95641) #> 8        Smelter POINT (-106.9839 38.95576) #> 9     Roundabout  POINT (-106.988 38.95808)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"reading-in-raster-data","dir":"Articles","previous_headings":"Reading in raster and vector data.","what":"Reading in raster data","title":"Wrangling Spatial Data","text":"can use similar pattern get example raster dataset R. use sdp_get_raster() function read raster dataset representing ground elevation sea level, commonly called Digital Elevation Model DEM. One notable difference call st_read() default sdp_get_raster() doesn’t download full dataset locally, just file header basic information. Vignette “Accessing Cloud-based Datasets” provides detail accessing raster data using rSDP package.","code":"dem <- sdp_get_raster(\"R3D009\") dem #> class       : SpatRaster  #> dimensions  : 24201, 27668, 1  (nrow, ncol, nlyr) #> resolution  : 3, 3  (x, y) #> extent      : 305082, 388086, 4256064, 4328667  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> source      : UG_dem_3m_v1.tif  #> name        : UG_dem_3m_v1"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"re-projecting-vector-data","dir":"Articles","previous_headings":"","what":"Re-projecting vector data","title":"Wrangling Spatial Data","text":"One complexities geographic data maps (data make ) generally 2-dimensional, earth surprisingly lumpy 3-D object. upshot variety 2-D coordinate systems describe locations geographic relationships. coordinate system system different strengths weaknesses, means data collected different purposes different places often use different systems. example, point data read earlier uses Geographic (Geodetic) Coordinate System defines locations using latitude longitude. can verify looking last line information printed read data . line Geodetic CRS: WGS 84 means data coordinates stored common lat-lon coordinate system, World Geodetic System (WGS) agreed year 1984. Among reasons, coordinate system popular one used GPS satellite navigation systems. contrast, raster data another coordinate system, called Universal Transverse Mercator (UTM). “projected” coordinate system X Y coordinates represent distance meters arbitrary start location (often called datum). Figure 2. Geographic vs projected coordinate systems. geographic system (left) uses angular coordinates (latitude longitude) describing position 3D surface earth. projected system (right) ‘flattens’ globe measures coordinates arbitrary origin datum, represented right figure blue circle. Modified Lovelace et al. 2019. crs function terra package can retrieve coordinate reference system terra sf objects. , verify coordinate systems two datasets different: means want kind data wrangling operation involves datasets, need get coordinate system. Translating data one coordinate system another called projection. Hypothetically, either: Project raster dataset coordinate system vector Project vector dataset coordinate system raster practice, ’s usually better idea re-project vector data. almost always much faster operation. Moreover, unlike re-project vector datasets, re-projecting raster results slight loss information. re-project point data coordinate system raster: can see values coordinates sites_proj different original object sites, coordinate systems now identical raster vector data. success! means ready use datasets together.","code":"crs(sites) #> [1] \"GEOGCRS[\\\"WGS 84\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n            LENGTHUNIT[\\\"metre\\\",1]]],\\n    PRIMEM[\\\"Greenwich\\\",0,\\n        ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n    CS[ellipsoidal,2],\\n        AXIS[\\\"geodetic latitude (Lat)\\\",north,\\n            ORDER[1],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        AXIS[\\\"geodetic longitude (Lon)\\\",east,\\n            ORDER[2],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n    ID[\\\"EPSG\\\",4326]]\" crs(sites) == crs(dem) #> [1] FALSE sites_proj <- st_transform(sites,crs=crs(dem)) crs(sites_proj) == crs(dem) #> [1] TRUE head(sites_proj) #> Simple feature collection with 6 features and 2 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 327280.5 ymin: 4314011 xmax: 327598 ymax: 4314484 #> Projected CRS: WGS 84 / UTM zone 13N #>   fid         Name                 geometry #> 1   1        Rocky POINT (327549.7 4314484) #> 2   2        Aspen   POINT (327598 4314467) #> 3   3         Road POINT (327550.8 4314314) #> 4   4   BeaverPond POINT (327280.5 4314235) #> 5   5 GrassyMeadow POINT (327342.2 4314252) #> 6   6      Conifer POINT (327403.2 4314011)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"a-basic-plot","dir":"Articles","previous_headings":"Re-projecting vector data","what":"A basic plot","title":"Wrangling Spatial Data","text":"confirm successful getting two datasets coordinate system, can plot .  code , specifying argument ext plots spatial subset raster dataset. specify subset calling ext() function, returns rectangular region covered point dataset.","code":"plot(dem,main=\"Elevation (m)\",ext=ext(sites_proj)) points(sites_proj)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"cropping-rasters-to-an-area-of-interest-","dir":"Articles","previous_headings":"","what":"Cropping rasters to an area of interest.","title":"Wrangling Spatial Data","text":"Now ’ve got raster vector datasets coordinate system, can operations use datasets. Let’s create spatial subset elevation map covers area points. use crop() function. second argument crop() specifies spatial extent want use crop raster. supply vector dataset, default behavior extract rectangular extent covers vector dataset, using ext() function behind scenes. Looking dimensions dem_crop, ’s now clear much smaller subset original data. ’s also now stored memory, subsequent operations subset quite fast.","code":"dem_crop <- crop(dem,sites_proj) dem_crop #> class       : SpatRaster  #> dimensions  : 248, 273, 1  (nrow, ncol, nlyr) #> resolution  : 3, 3  (x, y) #> extent      : 327279, 328098, 4313739, 4314483  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> source(s)   : memory #> name        : UG_dem_3m_v1  #> min value   :     2874.120  #> max value   :     3018.812"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"modifying-raster-data-","dir":"Articles","previous_headings":"","what":"Modifying raster data.","title":"Wrangling Spatial Data","text":"Now ’ve subset raster data, can perform lots different operations . example, terrain() function terra allows us compute topographic slope, identifying areas steep terrain:  can also perform arbitrary mathematical operations raster. example, wanted convert elevation map ’s default unit (meters) feet, multiply map appropriate conversion coefficient (1 meter = 3.28084 feet).","code":"dem_slope <- terrain(dem_crop,\"slope\") plot(dem_slope) dem_feet <- dem_crop * 3.28084 plot(c(dem_crop,dem_feet))"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"resampling-rasters-to-a-different-grid-","dir":"Articles","previous_headings":"","what":"Resampling rasters to a different grid.","title":"Wrangling Spatial Data","text":"Often want take raster datasets different sources put grid. operation called resampling. , need define grid output dataset choose method calculating resampled values locations grid cells. continuous data, common resampling method called bilinear interpolation. method defines new value pixels weighted average values four closest pixels source data. put practice, can use resample() function terra package. Figure 3. Bilinear interpolation. resampling strategy, new raster values computed weighted average four closest raster cells, closer cells higher weights. First, let’s load raster dataset lower resolution raster. data estimate day year seasonal snowpack finally melted spring.  dataset coordinate system elevation map, much lower spatial resolution. resample data finer resolution elevation map, use resample() function, defining elevation map template:  Obviously doesn’t create new information finer resolution. Instead, “smooths” original values fit new finer grid. Whether problem depends whether lot important variability dataset finer resolution.","code":"snow_2020 <- sdp_get_raster(\"R4D001\",years=2020) #> [1] \"Returning dataset with 1 layers be patient...\" snow_crop <- crop(snow_2020,sites_proj) plot(snow_crop) snow_res <- resample(snow_crop,dem_crop,method=\"bilinear\")  par(mfrow=c(1,2)) plot(snow_crop,main=\"Original (27m resolution)\",range=c(120,145)) plot(snow_res,main=\"Resampled (3m resolution)\",range=c(120,145))"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"re-projecting-rasters-to-a-different-coordinate-system-","dir":"Articles","previous_headings":"","what":"Re-projecting rasters to a different coordinate system.","title":"Wrangling Spatial Data","text":"Occasionally, need translate raster data coordinate systems. happens two stages: First, center points original raster cells re-projected new coordinate system. , new values computed projected grid using resampling method like used . demonstrate , let’s load climate dataset outside source. ClimateR package provides easy access variety gridded climate datasets. First need install GitHub: can grab example climate map PRISM dataset: case, coordinate system raster geographic (lat-long) coordinate system, ’s different others using. can verify : means need re-project data combining rest. operation quite slow, even relatively small raster dataset like one, now can crop result get layer extent resolution layers.","code":"#remotes::install_github(\"mikejohnson51/climateR\") #remotes::install_github(\"mikejohnson51/AOI\") library(climateR) library(AOI) buff <- st_as_sf(vect(ext(st_buffer(sites,dist=5000)))) st_crs(buff) <- st_crs(sites) prism <- getPRISM(AOI=buff,varname=\"tmax\",startDate=\"2020-05-01\",endDate=\"2020-05-01\") crs(prism$tmax) #> [1] \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"unknown\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n            LENGTHUNIT[\\\"metre\\\",1,\\n                ID[\\\"EPSG\\\",9001]]]],\\n    PRIMEM[\\\"unknown\\\",0,\\n        ANGLEUNIT[\\\"degree\\\",0.0174532925199433,\\n            ID[\\\"EPSG\\\",9122]]],\\n    CS[ellipsoidal,2],\\n        AXIS[\\\"longitude\\\",east,\\n            ORDER[1],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433,\\n                ID[\\\"EPSG\\\",9122]]],\\n        AXIS[\\\"latitude\\\",north,\\n            ORDER[2],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433,\\n                ID[\\\"EPSG\\\",9122]]]]\" crs(prism$tmax)==crs(sites) #> [1] FALSE crs(prism$tmax)==crs(sites_proj) #> [1] FALSE prism_proj <- project(prism$tmax,dem,method=\"bilinear\",align=TRUE) prism_crop <- crop(prism_proj,dem_crop)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"combining-rasters-into-a-single-dataset-","dir":"Articles","previous_headings":"","what":"Combining rasters into a single dataset.","title":"Wrangling Spatial Data","text":"wrangling, ’ve finally able assemble collection raster data consistent cell size resolution. can combine individual layers single SpatRaster object using c() function. data now “Analysis-Ready”! can use extract data field sites, fit spatial prediction models, variety tasks.","code":"full_stack_3m <- c(dem_crop,dem_slope,snow_res,prism_crop) names(full_stack_3m) <- c(\"Elevation\",\"Slope\",\"SnowPersist\",\"Tmax\") plot(full_stack_3m)"},{"path":"https://rmbl-sdp.github.io/rSDP/articles/wrangle-raster-data.html","id":"exporting-spatial-data","dir":"Articles","previous_headings":"","what":"Exporting spatial data","title":"Wrangling Spatial Data","text":"want explore wrangled data, often want GIS program like QGIS. Exporting data disk allows us : write single file disk four layers representing different raster datasets wrangled. Specifying “.tif” file extension writes file geoTIFF format, commonly used raster file format. can something similar wrangled vector data using st_read() function sf:","code":"writeRaster(full_stack_3m,\"~/Downloads/wrangled_raster_data.tif\", overwrite=TRUE) st_write(sites_proj,\"~/Downloads/wrangled_point_data.geojson\", delete_dsn=TRUE) #> Deleting source `/Users/ian/Downloads/wrangled_point_data.geojson' using driver `GeoJSON' #> Writing layer `wrangled_point_data' to data source  #>   `/Users/ian/Downloads/wrangled_point_data.geojson' using driver `GeoJSON' #> Writing 9 features with 2 fields and geometry type Point."},{"path":"https://rmbl-sdp.github.io/rSDP/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ian Breckheimer. Author, maintainer.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Breckheimer (2023). rSDP: Discover, Query, Subset Data RMBL Spatial Data Platform. https://github.com/rmbl-sdp/rSDP, https://rmbl-sdp.github.io/rSDP.","code":"@Manual{,   title = {rSDP: Discover, Query, and Subset Data from the RMBL Spatial Data Platform},   author = {Ian Breckheimer},   year = {2023},   note = {https://github.com/rmbl-sdp/rSDP, https://rmbl-sdp.github.io/rSDP}, }"},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"rsdp-","dir":"","previous_headings":"","what":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"rSDP package provides simple interface discovering, querying, subsetting data products incorporated RMBL Spatial Data Platform. RMBL SDP provides set curated, high-resolution, high-fidelity geospatial datasets set domains Western Colorado (USA) vicinity Rocky Mountain Biological Laboratory. information RMBL SDP see . SDP data products provided geospatial raster datasets cloud-optimized Geotiff (COG) format. rSDP package provides functions access datasets cloud storage (Amazon S3) without downloading.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"can install latest version rSDP GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"rmbl-sdp/rSDP\")"},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"discovering-sdp-data-and-metadata","dir":"","previous_headings":"","what":"Discovering SDP Data and Metadata","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"package provides functions sdp_get_catalog(), sdp_get_metadata() download information datasets currently available spatial attributes .","code":"library(rSDP)  ## Gets entries for vegetation data products in the Upper Gunnison (UG) domain. sdp_cat <- sdp_get_catalog(domains=\"UG\",                             types=\"Vegetation\",                            deprecated=FALSE,                            return_stac=FALSE) sdp_cat[,1:5] #>    CatalogID  Release       Type                       Product Domain #> 54    R3D013 Release3 Vegetation              Understory Cover     UG #> 55    R3D014 Release3 Vegetation       Vegetation Canopy Cover     UG #> 56    R3D015 Release3 Vegetation      Vegetation Canopy Height     UG #> 57    R3D016 Release3 Vegetation 20th Percentile Canopy Height     UG #> 58    R3D017 Release3 Vegetation 80th Percentile Canopy Height     UG #> 59    R3D018 Release3 Vegetation               Basic Landcover     UG #> 60    R3D019 Release3 Vegetation        October 2017 NAIP NDVI     UG #> 61    R3D020 Release3 Vegetation       Septober 2019 NAIP NDVI     UG #> 73     BM012 Basemaps Vegetation      Canopy Structure Basemap     UG #> 74     BM013 Basemaps Vegetation             Landcover Basemap     UG ## Grabs detailed metadata for a specific dataset. item_meta <- sdp_get_metadata(catalog_id=\"R1D001\",return_list=TRUE)  ## Prints the detailed description. item_description <- item_meta$qgis$abstract[[1]] print(item_description) #> [1] \"This map represents estimated stream flowlines from a hydrologically corrected digital elevation model. The lines were derived in GRASS GIS using a multi-direction algorithm that allows channel braiding. Each stream segment is identified by a unique integer. Stream lines were delineated for drainage areas greater than 512000 square meters.\\n\""},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"accessing-sdp-data-in-the-cloud","dir":"","previous_headings":"","what":"Accessing SDP data in the cloud.","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"function sdp_get_raster(), creates R representations cloud-based datasets can used processing, returning SpatRaster can manipulated using functions terra package. Alternatively, can plot data web map:","code":"## Creates a `SpatRaster` object for a dataset. dem <- sdp_get_raster(catalog_id=\"R3D009\") terra::plot(dem) terra::plet(dem,tiles=\"Esri.WorldImagery\")"},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"extracting-samples-of-sdp-data","dir":"","previous_headings":"","what":"Extracting samples of SDP data.","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"function sdp_extract_data() extracts samples datasets locations represented points, lines, polygons.  line polygon locations sdp_extract_data() summarizes raster values line polygon. default method computes mean value polygon, can also specify summary functions using sum_fun argument. can also return cell values intersecting line polygon specifying sum_fun=NULL. Passing argument exact=TRUE polygon features returns proportion raster cell included polygon (useful computing area-weighted means.)","code":"## Extracts values of an SDP dataset. elev <- sdp_get_raster(catalog_id=\"R3D009\") slope <- sdp_get_raster(catalog_id=\"R3D012\")  location_df <- data.frame(SiteName=c(\"Roaring Judy\",\"Gothic\",\"Galena Lake\"),                           Lat=c(38.716995,38.958446,39.021644),                           Lon=c(-106.853186,-106.988934,-107.072569)) location_sv <- terra::vect(location_df,geom=c(\"Lon\",\"Lat\"),crs=\"EPSG:4327\")  dem_sample <- sdp_extract_data(raster=elev,locations=location_sv) #> [1] \"Re-projecting locations to coordinate system of the raster.\" #> [1] \"Extracting data at 3 locations for 1 raster layers.\" #> [1] \"Extraction complete.\" slope_sample <- sdp_extract_data(raster=slope,locations=dem_sample) #> [1] \"Extracting data at 3 locations for 1 raster layers.\" #> [1] \"Extraction complete.\" plot(slope_sample$UG_dem_3m_v1,slope_sample$UG_dem_slope_1m_v1,xlab=\"Elevation (m).\",      ylab=\"Slope (degrees)\") slope <- sdp_get_raster(catalog_id=\"R3D012\")  location_poly <- data.frame(SiteName=c(\"Wet\",\"Conifer\",\"Rocky\"),                             WKT=c(\"POLYGON ((327651 4313638,327620 4313727,327693 4313759, 327651 4313638))\",                                    \"POLYGON ((327340 4314059,327450 4314026,327418 4313970,327340 4314059))\",                                    \"POLYGON ((328193 4314314,328285 4314274,328244 4314223, 328193 4314314))\")) location_poly_sv <- terra::vect(location_poly,geom=\"WKT\",crs=\"EPSG:32613\")  slope_site_mean <- sdp_extract_data(raster=slope,locations=location_poly_sv) #> [1] \"Extracting data at 3 locations for 1 raster layers.\" #> [1] \"Extraction complete.\" slope_site_sd <- sdp_extract_data(raster=slope,locations=slope_site_mean,                                   sum_fun=sd,bind=TRUE) #> [1] \"Extracting data at 3 locations for 1 raster layers.\" #> [1] \"Extraction complete.\" names(slope_site_sd) <- c(\"SiteName\",\"ID\",\"Slope_mean\",\"ID2\",\"Slope_sd\")  plot(slope_site_sd$Slope_mean,slope_site_sd$Slope_sd,xlab=\"Slope Mean (deg.)\",      ylab=\"Slope Standard Deviation\",pch=\"\") text(slope_site_sd$Slope_mean,slope_site_sd$Slope_sd,labels=slope_site_sd$SiteName) slope_allcells <- sdp_extract_data(raster=slope,locations=slope_site_mean,                                   sum_fun=NULL,exact=TRUE,bind=FALSE) #> [1] \"Extracting data at 3 locations for 1 raster layers.\" #> [1] \"Extraction complete.\" head(slope_allcells) #>   ID UG_dem_slope_1m_v1   fraction #> 1  1           4.609455 0.01733949 #> 2  1           6.018766 0.34246161 #> 3  1           9.753592 0.60725906 #> 4  1           3.104769 0.06934668 #> 5  1           6.362072 0.46575703 #> 6  1           6.617933 0.88677505"},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"working-with-raster-time-series","dir":"","previous_headings":"","what":"Working with raster time-series","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"sdp_get_raster() sdp_extract_data() functions also provide convenience features subsetting time-series datasets day year.","code":"## Connects to rasters from a temporal subset of daily data. tmax <- sdp_get_raster(\"R4D004\",date_start=as.Date(\"2011-12-01\"),date_end=as.Date(\"2011-12-30\")) #> [1] \"Returning dataset with 30 layers, be patient...\"  ## Further subsets when extracting data tmax_sample <- sdp_extract_data(tmax,location_sv,date_start=as.Date(\"2011-12-01\"),date_end=as.Date(\"2011-12-20\")) #> [1] \"Re-projecting locations to coordinate system of the raster.\" #> [1] \"Extracting data at 3 locations for 20 raster layers.\" #> [1] \"Extraction complete.\" tmax_df <- as.data.frame(tmax_sample) dates <- as.Date(names(tmax_df)[3:ncol(tmax_sample)]) sites <- tmax_df$SiteName  ##Plots the result plot(dates,tmax_df[1,3:ncol(tmax_sample)],type=\"l\",ylab=\"Tmax (C)\",ylim=c(-15,7)) points(dates,tmax_df[2,3:ncol(tmax_sample)],type=\"l\",col=3) points(dates,tmax_df[3,3:ncol(tmax_sample)],type=\"l\",col=4) legend(\"bottomright\", legend=sites,col=c(1,3,4),bty=\"n\",lty=1) ##Retrieving rasters from a subset of years. snow_yearly <- sdp_get_raster(\"R4D001\",years=c(2012,2019)) #> [1] \"Returning dataset with 2 layers be patient...\" terra::plot(snow_yearly,range=c(60,230))"},{"path":"https://rmbl-sdp.github.io/rSDP/index.html","id":"extracting-data-from-large-time-series-datasets","dir":"","previous_headings":"","what":"Extracting data from large time-series datasets.","title":"Discover, Query, and Subset Data from the RMBL Spatial Data Platform","text":"extracting subsets large datasets, ’s sometimes good idea loop small subsets rather extracting single large raster object many (sometimes hundreds) layers.","code":"## Extracts with a single call. start1 <- Sys.time() tmax1 <- sdp_get_raster(\"R4D004\",date_start=as.Date(\"2004-10-01\"),date_end=as.Date(\"2004-10-31\")) #> [1] \"Returning dataset with 31 layers, be patient...\"  tmax_extr1 <- sdp_extract_data(tmax1,location_sv,verbose=FALSE) elapsed1 <- Sys.time() - start1  ## Loops over layers (different subset to avoid cacheing). start2 <- Sys.time() tmax2 <- sdp_get_raster(\"R4D004\",date_start=as.Date(\"2005-10-01\"),date_end=as.Date(\"2005-10-31\"),                         verbose=FALSE) locations_proj <- terra:::project(location_sv,\"EPSG:32613\")  extr_list <- list() for(i in 1:terra::nlyr(tmax2)){   extr_dat <- sdp_extract_data(tmax2[[i]],locations_proj,verbose=FALSE)[,3]   extr_list[[i]] <- extr_dat } tmax_extr2 <- do.call(cbind,extr_list) elapsed2 <- Sys.time() - start2  ## Loops over creating the raster object itself.  ## This is slower single threaded, but can be more easily made parallel. start3 <- Sys.time() days <- seq(as.Date(\"2006-10-01\"),as.Date(\"2006-10-31\"),by=\"day\") extr_list3 <- list() for(i in 1:length(days)){   tmax3 <- sdp_get_raster(\"R4D004\",date_start=days[i],date_end=days[i],verbose=FALSE)   extr_dat <- sdp_extract_data(tmax3,locations_proj,verbose=FALSE)[,3]   extr_list3[[i]] <- extr_dat } tmax_extr3 <- do.call(cbind,extr_list3) elapsed3 <- Sys.time() - start3  ## Parallel extraction via foreach. library(foreach) #> Warning: package 'foreach' was built under R version 4.1.2 library(doParallel) #> Warning: package 'doParallel' was built under R version 4.1.2 #> Loading required package: iterators #> Warning: package 'iterators' was built under R version 4.1.2 #> Loading required package: parallel library(sf) #> Warning: package 'sf' was built under R version 4.1.2 #> Linking to GEOS 3.10.2, GDAL 3.4.2, PROJ 8.2.1; sf_use_s2() is TRUE  ## Can't pass SpatVector or SpatRaster objects via Foreach, so convert to sf. locations_sf <- st_as_sf(location_sv)  start4 <- Sys.time() cl <- parallel::makeCluster(4) doParallel::registerDoParallel(cl) days <- seq(as.Date(\"2007-10-01\"),as.Date(\"2007-10-31\"),by=\"day\")  extr_list4 <- foreach::foreach(i=1:length(days),.packages=c(\"sf\",\"terra\",\"rSDP\")) %dopar% {   #devtools::load_all() ## During package development.   tmax4 <- rSDP::sdp_get_raster(\"R4D004\",date_start=days[i],date_end=days[i],verbose=FALSE)    extr_dat <- rSDP::sdp_extract_data(tmax4,vect(locations_sf),verbose=FALSE,                                       return_spatvector=FALSE)[,3]    (extr_dat) } parallel::stopCluster(cl) tmax_extr4 <- do.call(cbind,extr_list4) elapsed4 <- Sys.time() - start4  ##Collects timings. timings <- data.frame(approach=c(\"Single Call\",\"Looping sdp_extract_data()\",\"Looping over sdp_get_raster()\",\"Foreach\"),                       timing=c(elapsed1,elapsed2,elapsed3,elapsed4)) timings #>                        approach        timing #> 1                   Single Call 19.70793 secs #> 2    Looping sdp_extract_data() 29.18842 secs #> 3 Looping over sdp_get_raster() 28.99906 secs #> 4                       Foreach 32.57772 secs"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/download_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download SDP Datasets Locally — download_data","title":"Download SDP Datasets Locally — download_data","text":"Download SDP Datasets Locally","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/download_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download SDP Datasets Locally — download_data","text":"","code":"download_data(   urls,   output_dir,   return_status = TRUE,   resume = FALSE,   overwrite = FALSE,   ... )"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/download_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download SDP Datasets Locally — download_data","text":"urls character vector URLs files download output_dir character vector destination file paths single path output files. return_status logical. function return data frame results download session? resume logical. function resume partial downloads? overwrite logical. function overwrite existing files? ... arguments passed curl::multi_download()","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/rSDP-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rSDP: Discover, Query, and Subset Data from the RMBL Spatial Data Platform — rSDP-package","title":"rSDP: Discover, Query, and Subset Data from the RMBL Spatial Data Platform — rSDP-package","text":"rSDP package provides simplified interface discovering, querying, subsetting data products incorporated RMBL Spatial Data Platform. RMBL SDP provides set curated, high-resolution, high-fidelity geospatial datasets set domains Western Colorado (USA) vicinity [Rocky Mountain Biological Laboratory](https://rmbl.org). information RMBL SDP [see ](https://www.rmbl.org/scientists/resources/spatial-data-platform/). SDP data products provided geospatial raster datasets [cloud-optimized Geotiff]() (COG) format. rSDP package provides functions access datasets cloud storage (Amazon S3) without downloading.","code":""},{"path":[]},{"path":"https://rmbl-sdp.github.io/rSDP/reference/rSDP-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rSDP: Discover, Query, and Subset Data from the RMBL Spatial Data Platform — rSDP-package","text":"Maintainer: Ian Breckheimer ikb@rmbl.org (ORCID)","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/replace_strngs.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace Multiple Strings in a Vector — replace_strngs","title":"Replace Multiple Strings in a Vector — replace_strngs","text":"Replace Multiple Strings Vector","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/replace_strngs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace Multiple Strings in a Vector — replace_strngs","text":"","code":"replace_strngs(x, y, vec, ...)"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/replace_strngs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace Multiple Strings in a Vector — replace_strngs","text":"x vector strings replace y vector strings use instead vec initial character vector ... arguments passed gsub","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_extract_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract SDP raster data at a set of locations. — sdp_extract_data","title":"Extract SDP raster data at a set of locations. — sdp_extract_data","text":"Extract SDP raster data set locations.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_extract_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract SDP raster data at a set of locations. — sdp_extract_data","text":"","code":"sdp_extract_data(   raster,   locations,   date_start = NULL,   date_end = NULL,   years = NULL,   catalog_id = NULL,   url_template = NULL,   bind = TRUE,   return_spatvector = TRUE,   method = \"bilinear\",   sum_fun = \"mean\",   verbose = TRUE,   ... )"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_extract_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract SDP raster data at a set of locations. — sdp_extract_data","text":"raster class SpatRaster. raster dataset (class terra::SpatRaster) extract data . locations vector dataset (class terra::SpatVector sf::sf) containing points, lines, polygons sample raster data. date_start class Date. raster dataset daily monthly time-series, minimum date extracted data. date_end class Date. raster dataset daily monthly time-series, maximum date extracted data. years numeric. raster dataset annual time-series, years data requested. catalog_id character. Alternative method specifying dataset sample. IMPLEMENTED YET. url_template character. Alternative method specifying whic dataset sample. IMPLEMENTED YET. bind logical. extracted data bound inputs? , data frame returned ID field common input data. return_spatvector logical. returned dataset vector dataset retained geometry (class terra::SpatVector). FALSE returns ordinary data frame. method Method extracting values (\"simple\" \"bilinear\"). \"simple\" values cell point falls returned. \"bilinear\" returned values interpolated values four nearest raster cells. Ignored locations represent lines points. sum_fun character function. Function use summarize raster cells overlap input features. Ignored extracting point. verbose logical. function print messages process? ... arguments pass along terra::Extract()","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_extract_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract SDP raster data at a set of locations. — sdp_extract_data","text":"data.frame SpatVector extracted data. layer raster dataset column returned data.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_extract_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract SDP raster data at a set of locations. — sdp_extract_data","text":"","code":"## Loads a raster. sdp_rast <- sdp_get_raster(\"R4D004\",date_start=as.Date(\"2021-11-02\"),date_end=as.Date(\"2021-11-03\")) #> [1] \"Returning dataset with 2 layers, be patient...\"  ## Sampling locations. location_pts <- data.frame(SiteName=c(\"Roaring Judy\",\"Gothic\",\"Galena Lake\"),                           Lat=c(38.716995,38.958446,39.021644),                           Lon=c(-106.853186,-106.988934,-107.072569)) location_sv <- terra::vect(location_pts,geom=c(\"Lon\",\"Lat\"),crs=\"EPSG:4327\")  ## Extract data for sampling locations. sdp_extr_sv <- sdp_extract_data(sdp_rast,location_sv,return_spatvector=TRUE) #> [1] \"Re-projecting locations to coordinate system of the raster.\" #> [1] \"Extracting data at 3 locations for 2 raster layers.\" #> [1] \"Extraction complete.\" sdp_extr_sv #>  class       : SpatVector  #>  geometry    : points  #>  dimensions  : 3, 4  (geometries, attributes) #>  extent      : 320579.1, 338885.9, 4287002, 4321222  (xmin, xmax, ymin, ymax) #>  coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #>  names       :     SiteName    ID 2021-11-02 2021-11-03 #>  type        :        <chr> <num>      <num>      <num> #>  values      : Roaring Judy     1      7.938      9.894 #>                      Gothic     2      3.788      7.493 #>                 Galena Lake     3     0.1095      1.442  ## Can also return a data frame. sdp_extr_df <- sdp_extract_data(sdp_rast,location_sv,return_spatvector=TRUE) #> [1] \"Re-projecting locations to coordinate system of the raster.\" #> [1] \"Extracting data at 3 locations for 2 raster layers.\" #> [1] \"Extraction complete.\" sdp_extr_df #>  class       : SpatVector  #>  geometry    : points  #>  dimensions  : 3, 4  (geometries, attributes) #>  extent      : 320579.1, 338885.9, 4287002, 4321222  (xmin, xmax, ymin, ymax) #>  coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #>  names       :     SiteName    ID 2021-11-02 2021-11-03 #>  type        :        <chr> <num>      <num>      <num> #>  values      : Roaring Judy     1      7.938      9.894 #>                      Gothic     2      3.788      7.493 #>                 Galena Lake     3     0.1095      1.442"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_catalog.html","id":null,"dir":"Reference","previous_headings":"","what":"Discover SDP data by downloading catalog information. — sdp_get_catalog","title":"Discover SDP data by downloading catalog information. — sdp_get_catalog","text":"Discover SDP data downloading catalog information.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_catalog.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discover SDP data by downloading catalog information. — sdp_get_catalog","text":"","code":"sdp_get_catalog(   domains = c(\"UG\", \"UER\", \"GT\"),   types = c(\"Mask\", \"Topo\", \"Vegetation\", \"Hydro\", \"Planning\", \"Radiation\", \"Snow\",     \"Climate\", \"Imagery\", \"Supplemental\"),   releases = c(\"Basemaps\", \"Release1\", \"Release2\", \"Release3\", \"Release4\"),   timeseries_types = c(\"Single\", \"Yearly\", \"Seasonal\", \"Monthly\", \"Daily\"),   deprecated = FALSE,   return_stac = FALSE )"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_catalog.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discover SDP data by downloading catalog information. — sdp_get_catalog","text":"domains spatial domain desired data product. types type product return. releases release (group) data products return. timeseries_types datasets structured single datasets (e.g. Single), others time-series various periods (e.g.Monthly). deprecated older versions datasets returned, just latest version? return_stac IMPLEMENTED: results returned Spatio-temporal Asset Catalog? Otherwise return ordinary data frame.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_catalog.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Discover SDP data by downloading catalog information. — sdp_get_catalog","text":"data frame containing basic catalog information matched data products.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_catalog.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discover SDP data by downloading catalog information. — sdp_get_catalog","text":"","code":"## Gets information on all current datasets. sdp_cat <- sdp_get_catalog() str(sdp_cat) #> 'data.frame':\t136 obs. of  16 variables: #>  $ CatalogID      : chr  \"R1D001\" \"R1D002\" \"R1D003\" \"R1D004\" ... #>  $ Release        : chr  \"Release1\" \"Release1\" \"Release1\" \"Release1\" ... #>  $ Type           : chr  \"Hydro\" \"Hydro\" \"Hydro\" \"Hydro\" ... #>  $ Product        : chr  \"Large Stream Flowlines (Multi-flow Direction)\" \"Large Stream Flowlines (Single-flow Direction)\" \"Large Watersheds (Multi-flow Direction)\" \"Multi-direction Flow Accumulation\" ... #>  $ Domain         : chr  \"UER\" \"UER\" \"UER\" \"UER\" ... #>  $ Resolution     : chr  \"1m\" \"1m\" \"1m\" \"1m\" ... #>  $ Deprecated     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ... #>  $ MinDate        : chr  \"7/16/18\" \"7/16/18\" \"7/16/18\" \"7/16/18\" ... #>  $ MaxDate        : chr  \"7/16/18\" \"7/16/18\" \"7/16/18\" \"7/16/18\" ... #>  $ MinYear        : int  2018 2018 2018 2018 2018 2018 2018 2018 2018 2018 ... #>  $ MaxYear        : int  2018 2018 2018 2018 2018 2018 2018 2018 2018 2018 ... #>  $ TimeSeriesType : chr  \"Single\" \"Single\" \"Single\" \"Single\" ... #>  $ DataScaleFactor: int  1 1 1 1 1 1 1 1 1 1 ... #>  $ DataOffset     : int  0 0 0 0 0 0 0 0 0 0 ... #>  $ Data.URL       : chr  \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_streams_512k_mfd_1m_v2.tif\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_streams_512k_sfd_1m_v2.tif\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_basins_512k_mfd_1m_v2.tif\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_flow_accum_mfd_1m_v3.tif\" ... #>  $ Metadata.URL   : chr  \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_streams_512k_mfd_1m_v2_metadata.xml\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_streams_512k_sfd_1m_v2_metadata.xml\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_basins_512k_mfd_1m_v2_metadata.xml\" \"https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_flow_accum_mfd_1m_v3_metadata.xml\" ...  ## Gets a subset of catalog entries for the Upper Gunnison (UG) domain. sdp_sub <- sdp_get_catalog(domains=\"UG\", types=\"Vegetation\",                           deprecated=FALSE,return_stac=FALSE) sdp_sub #>    CatalogID  Release       Type                       Product Domain #> 54    R3D013 Release3 Vegetation              Understory Cover     UG #> 55    R3D014 Release3 Vegetation       Vegetation Canopy Cover     UG #> 56    R3D015 Release3 Vegetation      Vegetation Canopy Height     UG #> 57    R3D016 Release3 Vegetation 20th Percentile Canopy Height     UG #> 58    R3D017 Release3 Vegetation 80th Percentile Canopy Height     UG #> 59    R3D018 Release3 Vegetation               Basic Landcover     UG #> 60    R3D019 Release3 Vegetation        October 2017 NAIP NDVI     UG #> 61    R3D020 Release3 Vegetation       Septober 2019 NAIP NDVI     UG #> 73     BM012 Basemaps Vegetation      Canopy Structure Basemap     UG #> 74     BM013 Basemaps Vegetation             Landcover Basemap     UG #>    Resolution Deprecated MinDate MaxDate MinYear MaxYear TimeSeriesType #> 54         3m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 55         3m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 56         1m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 57         3m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 58         3m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 59         1m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 60         1m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 61         1m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 73         2m      FALSE  9/7/19  9/7/19    2019    2019         Single #> 74         2m      FALSE  9/7/19  9/7/19    2019    2019         Single #>    DataScaleFactor DataOffset #> 54               1          0 #> 55               1          0 #> 56               1          0 #> 57               1          0 #> 58               1          0 #> 59               1          0 #> 60               1          0 #> 61               1          0 #> 73               1          0 #> 74               1          0 #>                                                                                                   Data.URL #> 54 https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_2mcover_3m_v2.tif #> 55   https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_cover_3m_v3.tif #> 56  https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_height_1m_v2.tif #> 57    https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_ht20_3m_v2.tif #> 58    https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_ht80_3m_v4.tif #> 59      https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_landcover_1m_v4.tif #> 60   https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_ndvi_oct2017_1m_v1.tif #> 61  https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_ndvi_sept2019_1m_v2.tif #> 73             https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/basemaps/UG_canopy_basemap_v3.tif #> 74          https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/basemaps/UG_landcover_basemap_v3.tif #>                                                                                                        Metadata.URL #> 54 https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_2mcover_3m_v2_metadata.xml #> 55   https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_cover_3m_v3_metadata.xml #> 56  https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_height_1m_v2_metadata.xml #> 57    https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_ht20_3m_v2_metadata.xml #> 58    https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_canopy_ht80_3m_v4_metadata.xml #> 59      https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_landcover_1m_v4_metadata.xml #> 60   https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_ndvi_oct2017_1m_v1_metadata.xml #> 61  https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release3/UG_ndvi_sept2019_1m_v2_metadata.xml #> 73             https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/basemaps/UG_canopy_basemap_v3_metadata.xml #> 74          https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/basemaps/UG_landcover_basemap_v3_metadata.xml"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","title":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","text":"Download detailed geospatial metadata SDP Datasets.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","text":"","code":"sdp_get_metadata(catalog_id, return_list = TRUE)"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","text":"catalog_id unique Catalog ID code desired dataset. return_list Logical. TRUE, output parsed R list object.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","text":"nested list (return_list=TRUE) XML document (return_list=FALSE) containing detailed geospatial metadata dataset.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download detailed geospatial metadata for SDP Datasets. — sdp_get_metadata","text":"","code":"##Get metadata for a specific item. sdp_get_metadata(catalog_id=\"R1D001\",return_list=TRUE) #> $qgis #> $qgis$identifier #> $qgis$identifier[[1]] #> [1] \"/vsicurl/https://rmbl-sdp.s3.us-east-2.amazonaws.com/data_products/released/release1/UER_streams_512k_mfd_1m_v2.tif\" #>  #>  #> $qgis$parentidentifier #> list() #>  #> $qgis$language #> $qgis$language[[1]] #> [1] \"en\" #>  #>  #> $qgis$type #> $qgis$type[[1]] #> [1] \"dataset\" #>  #>  #> $qgis$title #> $qgis$title[[1]] #> [1] \"Map of Multi-direction Stream Flowlines from the 2018 NEON AOP Digital Elevation Model\" #>  #>  #> $qgis$abstract #> $qgis$abstract[[1]] #> [1] \"This map represents estimated stream flowlines from a hydrologically corrected digital elevation model. The lines were derived in GRASS GIS using a multi-direction algorithm that allows channel braiding. Each stream segment is identified by a unique integer. Stream lines were delineated for drainage areas greater than 512000 square meters.\\n\" #>  #>  #> $qgis$keywords #> $qgis$keywords$keyword #> $qgis$keywords$keyword[[1]] #> [1] \"Environment\" #>  #>  #> $qgis$keywords$keyword #> $qgis$keywords$keyword[[1]] #> [1] \"Geoscientific Information\" #>  #>  #> $qgis$keywords$keyword #> $qgis$keywords$keyword[[1]] #> [1] \"Inland Waters\" #>  #>  #> $qgis$keywords$keyword #> $qgis$keywords$keyword[[1]] #> [1] \"Society\" #>  #>  #> attr(,\"vocabulary\") #> [1] \"gmd:topicCategory\" #>  #> $qgis$contact #> $qgis$contact$name #> $qgis$contact$name[[1]] #> [1] \"Ian Breckheimer\" #>  #>  #> $qgis$contact$organization #> $qgis$contact$organization[[1]] #> [1] \"Rocky Mountain Biological Laboratory\" #>  #>  #> $qgis$contact$position #> $qgis$contact$position[[1]] #> [1] \"Research Scientist\" #>  #>  #> $qgis$contact$voice #> list() #>  #> $qgis$contact$fax #> list() #>  #> $qgis$contact$email #> $qgis$contact$email[[1]] #> [1] \"ikb@rmbl.org\" #>  #>  #> $qgis$contact$role #> $qgis$contact$role[[1]] #> [1] \"owner\" #>  #>  #>  #> $qgis$links #> $qgis$links$link #> list() #> attr(,\"url\") #> [1] \"https://rmbl.org/data\" #> attr(,\"name\") #> [1] \"URL\" #> attr(,\"format\") #> [1] \"\" #> attr(,\"size\") #> [1] \"\" #> attr(,\"type\") #> [1] \"WWW:LINK\" #> attr(,\"mimeType\") #> [1] \"\" #> attr(,\"description\") #> [1] \"Spatial Data Platform Description\" #>  #>  #> $qgis$fees #> list() #>  #> $qgis$license #> $qgis$license[[1]] #> [1] \"Creative Commons Attribution 4.0\" #>  #>  #> $qgis$encoding #> list() #>  #> $qgis$crs #> $qgis$crs$spatialrefsys #> $qgis$crs$spatialrefsys$wkt #> $qgis$crs$spatialrefsys$wkt[[1]] #> [1] \"PROJCRS[\\\"WGS 84 / UTM zone 13N\\\",BASEGEOGCRS[\\\"WGS 84\\\",DATUM[\\\"World Geodetic System 1984\\\",ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,LENGTHUNIT[\\\"metre\\\",1]]],PRIMEM[\\\"Greenwich\\\",0,ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],ID[\\\"EPSG\\\",4326]],CONVERSION[\\\"UTM zone 13N\\\",METHOD[\\\"Transverse Mercator\\\",ID[\\\"EPSG\\\",9807]],PARAMETER[\\\"Latitude of natural origin\\\",0,ANGLEUNIT[\\\"degree\\\",0.0174532925199433],ID[\\\"EPSG\\\",8801]],PARAMETER[\\\"Longitude of natural origin\\\",-105,ANGLEUNIT[\\\"degree\\\",0.0174532925199433],ID[\\\"EPSG\\\",8802]],PARAMETER[\\\"Scale factor at natural origin\\\",0.9996,SCALEUNIT[\\\"unity\\\",1],ID[\\\"EPSG\\\",8805]],PARAMETER[\\\"False easting\\\",500000,LENGTHUNIT[\\\"metre\\\",1],ID[\\\"EPSG\\\",8806]],PARAMETER[\\\"False northing\\\",0,LENGTHUNIT[\\\"metre\\\",1],ID[\\\"EPSG\\\",8807]]],CS[Cartesian,2],AXIS[\\\"(E)\\\",east,ORDER[1],LENGTHUNIT[\\\"metre\\\",1]],AXIS[\\\"(N)\\\",north,ORDER[2],LENGTHUNIT[\\\"metre\\\",1]],USAGE[SCOPE[\\\"unknown\\\"],AREA[\\\"World - N hemisphere - 108°W to 102°W - by country\\\"],BBOX[0,-108,84,-102]],ID[\\\"EPSG\\\",32613]]\" #>  #>  #> $qgis$crs$spatialrefsys$proj4 #> $qgis$crs$spatialrefsys$proj4[[1]] #> [1] \"+proj=utm +zone=13 +datum=WGS84 +units=m +no_defs\" #>  #>  #> $qgis$crs$spatialrefsys$srsid #> $qgis$crs$spatialrefsys$srsid[[1]] #> [1] \"3097\" #>  #>  #> $qgis$crs$spatialrefsys$srid #> $qgis$crs$spatialrefsys$srid[[1]] #> [1] \"32613\" #>  #>  #> $qgis$crs$spatialrefsys$authid #> $qgis$crs$spatialrefsys$authid[[1]] #> [1] \"EPSG:32613\" #>  #>  #> $qgis$crs$spatialrefsys$description #> $qgis$crs$spatialrefsys$description[[1]] #> [1] \"WGS 84 / UTM zone 13N\" #>  #>  #> $qgis$crs$spatialrefsys$projectionacronym #> $qgis$crs$spatialrefsys$projectionacronym[[1]] #> [1] \"utm\" #>  #>  #> $qgis$crs$spatialrefsys$ellipsoidacronym #> $qgis$crs$spatialrefsys$ellipsoidacronym[[1]] #> [1] \"EPSG:7030\" #>  #>  #> $qgis$crs$spatialrefsys$geographicflag #> $qgis$crs$spatialrefsys$geographicflag[[1]] #> [1] \"false\" #>  #>  #>  #>  #> $qgis$extent #> $qgis$extent$spatial #> list() #> attr(,\"dimensions\") #> [1] \"2\" #> attr(,\"minx\") #> [1] \"315130\" #> attr(,\"minz\") #> [1] \"0\" #> attr(,\"maxx\") #> [1] \"337845\" #> attr(,\"maxz\") #> [1] \"0\" #> attr(,\"miny\") #> [1] \"4297480\" #> attr(,\"maxy\") #> [1] \"4323209\" #> attr(,\"crs\") #> [1] \"EPSG:32613\" #>  #> $qgis$extent$temporal #> $qgis$extent$temporal$period #> $qgis$extent$temporal$period$start #> list() #>  #> $qgis$extent$temporal$period$end #> list() #>  #>  #>  #>  #> attr(,\"version\") #> [1] \"3.10.2-A Coruña\" #>"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an R object representing an SDP dataset. — sdp_get_raster","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"Create R object representing SDP dataset.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"","code":"sdp_get_raster(   catalog_id = NULL,   url = NULL,   years = NULL,   date_start = NULL,   date_end = NULL,   verbose = TRUE,   download_files = FALSE,   download_path = NULL,   overwrite = FALSE,   ... )"},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"catalog_id character. single valid catalog number SDP dataset. CatalogID field information returned sdp_get_catalog(). url character. valid URL (e.g. https://path..dataset.tif) cloud-based dataset. specify either catalog_id url, . years numeric. annual time-series data, numeric vector specifying years return. default NULL returns available years. date_start class Date. daily time-series data, first day data return. date_end class Date. daily time-series data, last day data return. verbose logical. function print status progress messages? download_files logical. function download files disk? default FALSE creates cloud-based representations data without downloading. download_path character. Destination path downloaded files. can relative absolute path. overwrite logical. files names datasets overwritten download_path? FALSE, function skip downloading files already exist destination. ... arguments pass terra::rast() function.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"R object (class terra::SpatRaster) representing raster dataset.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"Files headers read cloud-based datasets using terra package, full dataset downloaded locally unless download_files=TRUE. Instead terra uses web-based file system embedded GDAL (VSICURL) access datasets cloud. large datasets slow network connections, function might take minute complete. Specifying local downloads download_files=TRUE might efficient multi-layer data, can take lots disk space.","code":""},{"path":"https://rmbl-sdp.github.io/rSDP/reference/sdp_get_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an R object representing an SDP dataset. — sdp_get_raster","text":"","code":"## Lookup catalog number for a dataset. cat <- sdp_get_catalog(domain='UG',type='Vegetation') lc_id <- cat$CatalogID[cat$Product=='Basic Landcover']  ## Connect to the dataset without downloading landcover <- sdp_get_raster(lc_id) landcover #> class       : SpatRaster  #> dimensions  : 72603, 83004, 1  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 305082, 388086, 4256064, 4328667  (xmin, xmax, ymin, ymax) #> coord. ref. : WGS 84 / UTM zone 13N (EPSG:32613)  #> source      : UG_landcover_1m_v4.tif  #> color table : 1  #> name        : UG_landcover_v4@UG_01m"}]
